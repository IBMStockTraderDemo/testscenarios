#
# Scenario: Run the latest version of stock testing in Dev-1
#
apiVersion: scenario.test/v1beta1
kind: Scenario
metadata:
  name: stocktest
spec:
  environment: 
    name: development
    from: https://github.com/IBMStockTraderDemo/testscenarios
    version: HEAD
    file: environments/development.yaml
  
  virtualservices:
    - name: virtual-stock-quote
      description: A mock of the stoc-quote service in the Stock Trader application (using Rational Integration Tester)
      type: RTVS
      from: https://github.com/IBMStockTraderDemo/stockquotestub
      #version: 7e2e3a03d44fdd8a90d13dfb983c2debf469f44f
      servicename: virtual-stock-quote-service
      containerports:
      - type: http
        port: 31002
    #- name: stock-quote-copy
    #  from: https://github.com/IBMStockTraderDemo/stockquotestub
    #  live-service: stock-quote-service-copy
  
  tests:
    - name: portfoliotest
      type: RIT
      from: https://github.com/IBMStockTraderDemo/portfoliotest
      targets:
      - name: http://portfolio-service:9080
      - name: http://trader-service:9080

      


